name: Simple CI/CD

# ‘µ÷Ä’¢ ’Ø’°’∑’≠’°’ø’´ - ’°’¥’•’∂ push-’´÷Å ’∞’•’ø’∏ main branch-’∏÷Ç’¥
on:
  push:
    branches:
      - main

# ‘±’∑’≠’°’ø’°’∂÷Ñ’®
jobs:
  build-and-push:
    name: Build Docker & Push
    runs-on: ubuntu-latest
    
    steps:
      # ’î’°’µ’¨ 1: ’Ü’•÷Ä’¢’•’º’∂’•’¨ ’Ø’∏’§’® GitHub-’´÷Å
      - name: üì• Download code
        uses: actions/checkout@v4
      
      # ’î’°’µ’¨ 2: Login ’°’∂’•’¨ Docker Hub
      - name: üîê Login to Docker Hub
        uses: docker/login-action@v3
        with:
          username: ${{ secrets.DOCKER_USERNAME }}
          password: ${{ secrets.DOCKER_PASSWORD }}
      
      # ’î’°’µ’¨ 3: ‘ø’°’º’∏÷Ç÷Å’•’¨ Docker image
      - name: üèóÔ∏è Build Docker image
        run: docker build -t ${{ secrets.DOCKER_USERNAME }}/my-app:latest .
      
      # ’î’°’µ’¨ 4: Push ’°’∂’•’¨ Docker Hub
      - name: üöÄ Push to Docker Hub
        run: docker push ${{ secrets.DOCKER_USERNAME }}/my-app:latest
      
      # ’î’°’µ’¨ 5: ’Ä’°’ª’∏’≤’∏÷Ç’©’µ’°’∂ ’∞’°’≤’∏÷Ä’§’°’£÷Ä’∏÷Ç’©’µ’∏÷Ç’∂
      - name: ‚úÖ Success
        run: echo "Image successfully pushed to Docker Hub!"